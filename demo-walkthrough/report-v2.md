# Ghost Engine Demo Walkthrough (V2) - Hardened

**Date:** 2025-12-26
**Environment:** Local (`http://localhost:8080`)
**Status:** **READY**

## 1. Fixes Applied (`instructions26`)

### Fix 1: Worker Port Conflict âœ…
- **Issue:** Worker default port 8080 clashed with Orchestrator.
- **Fix:** Updated `services/worker/index.js` to default to `PORT=8081`.
- **Verification:** `curl http://localhost:8081/healthz` -> `{"ok":true}`.

### Fix 2: UI Demo-Critical Actions âœ…
- **Replay Button:** Updated `demo.js` to remove blocking `confirm()` dialog and ensure reliable click handling.
- **Warmup Button:** Added to `index.html`. Implemented handler in `demo.js` to call `/healthz` and show detailed status.
- **Play Button:** Added to `index.html` (hidden by default). Shows upon successful generation. Click alerts the CLI command `node ge-doom/runtime.js <url>`.

### Fix 3: Missing Scripts âœ…
- **Issue:** `scripts/demo-readiness-report.js` was missing.
- **Fix:** Restored from `instructions22` template.
- **Verification:** Script exists and runs (providing determinism checks).

## 2. Walkthrough Summary

| Step | Feature | Status | Notes |
| :--- | :--- | :--- | :--- |
| **1** | **Backend** | ðŸŸ¢ Ready | Orchestrator (:8080) and Worker (:8081) running. |
| **2** | **Warmup** | ðŸŸ¢ Added | Button exists. Triggers health check + status update. |
| **3** | **Generate** | ðŸŸ¢ Stable | Doom preset generates artifacts successfully. |
| **4** | **Replay** | ðŸŸ¢ Fixed | "Replay Job" button now triggers immediate replay. |
| **5** | **Play** | ðŸŸ¢ Added | "Play" button appears after generation. Shows runtime command. |
| **6** | **Determinism**| ðŸŸ¢ Verified | Validated in V1 run; logic unchanged. |

## 3. Next Steps

- **Deploy:** Push changes to `main` to unblock `stage` deployment.
- **Runtime:** Verify `ge-doom/runtime.js` locally with a generated LevelSpec to ensure the End-to-End "Play" experience is smooth.

---
*Generated by Antigravity Agent*
